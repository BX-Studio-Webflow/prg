import{e as N}from"./chunks/index.BNVWmogu.js";const R="https://prg-one.vercel.app";document.addEventListener("DOMContentLoaded",async()=>{const r=document.querySelector("[dev-target=job-id]"),a=document.querySelector("[dev-target=job-name]"),c=document.querySelector("[dev-target=title]"),d=document.querySelector("[dev-target=last-modified]"),i=document.querySelector("[dev-target=description]"),s=document.querySelector("[dev-target=custom-text-2]"),u=document.querySelector("[dev-target=state]"),l=document.querySelector("[dev-target=isWorkFromHome]"),m=document.querySelector("[dev-target=employmentType]"),y=document.querySelector("[dev-target=externalCategoryID]"),p=document.querySelector("[dev-target=job-loader]"),g=document.querySelector("[dev-target=content-wrap]"),b=new URLSearchParams(window.location.search).get("id");if(!r||!a||!c||!i||!s||!u||!l||!m||!p||!g||!d||!y)return console.error("Missing element");if(!b)return console.error("Missing id");try{const e=await q(Number(b));e.count===1?(w({job:e,jobCustomText2:s,jobDescription:i,jobEmploymentType:m,jobExternalCategoryID:y,jobIdInput:r,jobNameInput:a,jobState:u,jobTitle:c,jobLastModified:d,jobWorkFromHome:l,jobLoader:p,jobContentWrap:g}),console.log({job:e})):console.log("no job",e)}catch(e){console.error("Something went wrong",e)}function w({job:e,jobCustomText2:t,jobDescription:j,jobEmploymentType:I,jobExternalCategoryID:S,jobIdInput:L,jobNameInput:E,jobState:M,jobTitle:W,jobLastModified:k,jobWorkFromHome:A,jobLoader:F,jobContentWrap:H}){var h,x,T;const f=D(e.data[0].externalCategoryID),v=e.data[0].title,o=e.data[0].customText2,n=e.data[0].address.state,$=e.data[0].employmentType;!n&&!o&&((x=(h=t.parentElement)==null?void 0:h.parentElement)==null||x.setAttribute("dev-hide","true")),f||(T=S.parentElement)==null||T.setAttribute("dev-hide","true"),L.value=e.data[0].id.toString(),E.value=v,W.textContent=v,k.textContent=C(e.data[0].dateLastModified),j.innerHTML=e.data[0].publicDescription,t.textContent=o??"",M.textContent=n?`${o?"/":""} ${n}`:"",A.innerText=e.data[0].isWorkFromHome?"Remote":"Onsite",I.textContent=$,S.innerText=f??"",F.setAttribute("dev-hide","true"),H.setAttribute("dev-hide","false")}function C(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}async function q(e){try{const t=await fetch(`${R}/api/jobs/${e}`);if(!t.ok)throw new Error("Failed to fetch job");return await t.json()}catch(t){throw console.error("Error fetching job:",t),t}}function D(e){return e?N[e]:null}});
//# sourceMappingURL=job.js.map

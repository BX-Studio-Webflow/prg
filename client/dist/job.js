const D="https://prg-one.vercel.app";document.addEventListener("DOMContentLoaded",async()=>{const o=document.querySelector("[dev-target=job-id]"),r=document.querySelector("[dev-target=job-name]"),n=document.querySelector("[dev-target=title]"),a=document.querySelector("[dev-target=last-modified]"),c=document.querySelector("[dev-target=description]"),d=document.querySelector("[dev-target=custom-text-2]"),s=document.querySelector("[dev-target=state]"),i=document.querySelector("[dev-target=isWorkFromHome]"),u=document.querySelector("[dev-target=employmentType]"),l=document.querySelector("[dev-target=externalCategoryID]"),m=document.querySelector("[dev-target=job-loader]"),b=document.querySelector("[dev-target=content-wrap]"),g=new URLSearchParams(window.location.search).get("id");if(!o||!r||!n||!c||!d||!s||!i||!u||!m||!b||!a||!l)return console.error("Missing element");if(!g)return console.error("Missing id");try{const e=await S(Number(g));e.count===1?(j({job:e,jobCustomText2:d,jobDescription:c,jobEmploymentType:u,jobExternalCategoryID:l,jobIdInput:o,jobNameInput:r,jobState:s,jobTitle:n,jobLastModified:a,jobWorkFromHome:i,jobLoader:m,jobContentWrap:b}),console.log({job:e})):console.log("no job",e)}catch(e){console.error("Something went wrong",e)}function j({job:e,jobCustomText2:t,jobDescription:y,jobEmploymentType:v,jobExternalCategoryID:h,jobIdInput:f,jobNameInput:C,jobState:w,jobTitle:x,jobLastModified:q,jobWorkFromHome:T,jobLoader:L,jobContentWrap:I}){f.value=e.data[0].id.toString(),C.value=e.data[0].title,x.textContent=e.data[0].title,q.textContent=p(e.data[0].dateLastPublished),y.innerHTML=e.data[0].publicDescription,t.textContent=e.data[0].customText2??"",w.textContent=e.data[0].address.state??"",console.log({jobWorkFromHome:T}),v.textContent=e.data[0].employmentType,h.innerText=e.data[0].publishedCategory.name??"",L.setAttribute("dev-hide","true"),I.setAttribute("dev-hide","false")}function p(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}async function S(e){try{const t=await fetch(`${D}/api/jobs/${e}`);if(!t.ok)throw new Error("Failed to fetch job");return await t.json()}catch(t){throw console.error("Error fetching job:",t),t}}});
//# sourceMappingURL=job.js.map
